<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/e0865c90c0.js" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/e0865c90c0.js" crossorigin="anonymous"></script>
    <title>Spotify Clone</title>
</head>

<body>
    <section id="navibar">

        <div class="preloader"></div>

        <div id="navbar">
            <ul id="">
                <li class="image"><img src="img/logo.png" alt=""></li>
                <li> <a href="G:\Vansh\mini new\Spotify\index.html">Home</a> </li>
                <li> <a class="active" href="G:\Vansh\mini new\Spotify\artist.html">Artist</a> </li>
                <li> <a href="G:\Vansh\mini new\Spotify\contctus.html">Contact us</a> </li>
                <li class="sign"> <a href="G:\Vansh\mini new\Spotify\signin.html">Sign in</a> </li>
            </ul>
        </div>

    </section>

    <section class="progressbar">
        <div class="progress">
            <input type="range" min="0" max="100" value="0" id="myProgressBar">
            <ul>
                <li class="gif"><img src="img/animate.gif" alt="" id="gif"></li>
                <li><i class="fa-solid fa-backward-fast" id="previous"></i></li>
                <li><i class="fa-solid fa-circle-play" id="masterPlay"></i></li>
                <li><i class="fa-solid fa-forward-fast" id="next"></i></li>
                <li class="SongName" id="SongName">Vande Mataram</li>
                </u>
        </div>
    </section>

    <section class="blankspace">
        <div class="blankspace"></div>
    </section>

    <section class="song-container">
        <div class="song">
            <ul>
                <img src="img/music.jpg" alt="" id="Img"></li>
                <li class="SongName">Song Name</li>.
                <li class="SingerName">- A. R. Rahaman</li>
                <li class="play"> <i id="0" class="fa-solid songItemPlay fa-circle-play "></i> </li>
            </ul>
        </div>
        <div class="song">
            <ul>
                <li><img src="img/music.jpg" alt=""></li>
                <li class="SongName">Song Name</li>.
                <li class="SingerName">- A. R. Rahaman</li>
                <li class="play"> <i id="1" class="fa-solid songItemPlay fa-circle-play "></i> </li>
            </ul>
        </div>
        <div class="song">
            <ul>
                <li><img src="img/music.jpg" alt=""></li>
                <li class="SongName">Song Name</li>.
                <li class="SingerName">- A. R. Rahaman</li>
                <li class="play"> <i id="2" class="fa-solid songItemPlay fa-circle-play "></i> </li>
            </ul>
        </div>
        <div class="song">
            <ul>
                <li><img src="img/music.jpg" alt=""></li>
                <li class="SongName">Song Name</li>.
                <li class="SingerName">- A. R. Rahaman</li>
                <li class="play"> <i id="3" class="fa-solid songItemPlay fa-circle-play "></i> </li>
            </ul>
        </div>
        <div class="song">
            <ul>
                <li><img src="img/music.jpg" alt=""></li>
                <li class="SongName">Song Name</li>.
                <li class="SingerName">- A. R. Rahaman</li>
                <li class="play"> <i id="4" class="fa-solid songItemPlay fa-circle-play "></i> </li>
            </ul>
        </div>
        <div class="song">
            <ul>
                <li><img src="img/music.jpg" alt=""></li>
                <li class="SongName">Song Name</li>.
                <li class="SingerName">- A. R. Rahaman</li>
                <li class="play"> <i id="5" class="fa-solid songItemPlay fa-circle-play "></i> </li>
            </ul>
        </div>
        <div class="song">
            <ul>
                <li><img src="img/music.jpg" alt=""></li>
                <li class="SongName">Song Name</li>.
                <li class="SingerName">- A. R. Rahaman</li>
                <li class="play"> <i id="6" class="fa-solid songItemPlay fa-circle-play "></i> </li>
            </ul>
        </div>
        <div class="song">
            <ul>
                <li><img src="img/music.jpg" alt=""></li>
                <li class="SongName">Song Name</li>.
                <li class="SingerName">- A. R. Rahaman</li>
                <li class="play"> <i id="7" class="fa-solid songItemPlay fa-circle-play "></i> </li>
            </ul>
        </div>
    </section>

    <section class="artistImage">
        <div class="artist-img">
            <img src="img/ar.jpeg" alt="">
        </div>
    </section>



    <footer>
        <div class="copyright">
            <p>Â© 2023, Spotify Clone - HTML CSS Clone website</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        console.log("Welcome");

        let songIndex = 0;
        let audioElement = new Audio('songs/ar/0.mp3');
        let masterPlay = document.getElementById('masterPlay');
        let myProgressBar = document.getElementById('myProgressBar');
        let gif = document.getElementById('gif');
        let SongName = document.getElementById('SongName');
        let songItem = Array.from(document.getElementsByClassName('song'));
        let songItemPlay = document.getElementById('songItemPlay');
        // audioElement.play();

        let songs = [
            { songname: "Vande Mataram", filePath: "songs/ar/0.mp3", coverPath: "artists/ar/img1.jpeg" },
            { songname: "O re chori", filePath: "songs/ar/1.mp3", coverPath: "artists/ar/img2.jpeg" },
            { songname: "Radha kaise na jale", filePath: "songs/ar/2.mp3", coverPath: "artists/ar/img3.jpeg" },
            { songname: "Jai ho", filePath: "songs/ar/3.mp3", coverPath: "artists/ar/img4.jpeg" },
            { songname: "Rait jara si", filePath: "songs/ar/4.mp3", coverPath: "artists/ar/img5.jpeg" },
            { songname: "Kun faya kun", filePath: "songs/ar/5.mp3", coverPath: "artists/ar/img6.jpeg" },
            { songname: "Kaise muje tum mil gaye", filePath: "songs/ar/6.mp3", coverPath: "artists/ar/img7.jpeg" },
            { songname: "The humma song", filePath: "songs/ar/7.mp3", coverPath: "artists/ar/img8.jpeg" },
        ]

        songItem.forEach((element, i) => {
            element.getElementsByTagName("img")[0].src = songs[i].coverPath;
            element.getElementsByClassName("SongName")[0].innerText = songs[i].songname;
        });



        masterPlay.addEventListener('click', () => {
            if (audioElement.paused || audioElement.currentTime <= 0) {
                audioElement.play();
                masterPlay.classList.remove("fa-solid");
                masterPlay.classList.remove("fa-circle-play");
                masterPlay.classList.add("fa-solid");
                masterPlay.classList.add("fa-circle-pause");
                gif.style.opacity = 1;
            }
            else {
                audioElement.pause();
                masterPlay.classList.remove("fa-solid");
                masterPlay.classList.remove("fa-circle-pause");
                masterPlay.classList.add("fa-solid");
                masterPlay.classList.add("fa-circle-play");
                gif.style.opacity = 0;
            }

        })

        audioElement.addEventListener('timeupdate', () => {
            progrress = parseInt((audioElement.currentTime / audioElement.duration) * 100);
            myProgressBar.value = progrress;
        })

        myProgressBar.addEventListener('change', () => {
            audioElement.currentTime = (audioElement.duration * myProgressBar.value) / 100;
        })

        const makeAllPlay = () => {
            Array.from(document.getElementsByClassName('songItemPlay')).forEach((element) => {
                element.classList.remove('fa-circle-pause');
                element.classList.add('fa-circle-play');
            })
        }

        Array.from(document.getElementsByClassName('songItemPlay')).forEach((element) => {
            element.addEventListener('click', (e) => {
                makeAllPlay();
                songIndex = parseInt(e.target.id);
                e.target.classList.remove('fa-circle-play');
                e.target.classList.add('fa-circle-pause');
                audioElement.src = `songs/ar/${songIndex}.mp3`;
                SongName.innerText = songs[songIndex].songname;
                gif.style.opacity = 1;
                audioElement.currentTime = 0;
                audioElement.play();
                masterPlay.classList.remove("fa-circle-play");
                masterPlay.classList.add("fa-circle-pause");
            })
        })

        document.getElementById('next').addEventListener('click', () => {
            if (songIndex >= 7) {
                songIndex = 0;
            }
            else {
                songIndex += 1;
            }
            makeAllPlay();
            audioElement.src = `songs/ar/${songIndex}.mp3`;
            SongName.innerText = songs[songIndex].songname;
            audioElement.currentTime = 0;
            audioElement.play();
            masterPlay.classList.remove("fa-circle-play");
            masterPlay.classList.add("fa-circle-pause");
        })

        document.getElementById('previous').addEventListener('click', () => {
            if (songIndex <= 0) {
                songIndex = 7;
            }
            else {
                songIndex -= 1;
            }
            audioElement.src = `songs/ar/${songIndex}.mp3`;
            SongName.innerText = songs[songIndex].songname;
            audioElement.currentTime = 0;
            audioElement.play();
            masterPlay.classList.remove("fa-circle-play");
            masterPlay.classList.add("fa-circle-pause");
        })

    </script>
</body>

</html>